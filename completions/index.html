<!doctype html><html lang=en><head><meta charset=utf-8><meta content="IE=edge,chrome=1" http-equiv=x-ua-compatible><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Completions</title><link href=/zulu/styles/screen.min.15230c345e3e4adb4d81091f5254780256264bc05581fbf57999477799157f5e.css rel=stylesheet media=screen integrity="sha256-FSMMNF4+SttNgQkfUlR4AlYmS8BVgfv1eZlHd5kVf14="><link href=/zulu/styles/print.min.95906f9e78ece65e531ec1207287bef473455492594954dcf17146e01e627bf6.css rel=stylesheet media=print integrity="sha256-lZBvnnjs5l5THsEgcoe+9HNFVJJZSVTc8XFG4B5ie/Y="><script src=/zulu/js/index.1172541ba017e75638f8c35a06118956f0fcd56795154049be84f6ba42d3af3b.js integrity="sha256-EXJUG6AX51Y4+MNaBhGJVvD81WeVFUBJvoT2ukLTrzs=" defer></script><style>[x-cloak]{display:none!important}</style></head><body class=index x-data="{ navOpen: false }" x-cloak><a href=# id=nav-button @click="navOpen = !navOpen" :class="{'open': navOpen }"><span>NAV
<img src=/zulu/images/navbar.png></span></a><div class=toc-wrapper :class="{'open': navOpen }"><img src=/zulu/images/logo.png class=logo><div class=search x-data=searchController><input x-model.debounce.100ms=query type=search class=search id=input-search placeholder=Search><ul class="search-results visible" x-show="results.length > 0" x-transition.duration.700ms><template x-for="item in results"><li><a x-text=item.title :href="`#${item.id}`"></a></li></template></ul></div><ul id=toc class=toc-list-h1 x-data=tocController x-init='load([{"id":"overview","level":1,"sub":[],"title":"Overview"},{"id":"installation","level":1,"sub":[],"title":"Installation"},{"id":"differences-with-cobra","level":1,"sub":[],"title":"Differences with Cobra"},{"id":"concepts","level":1,"sub":[{"id":"commands","level":2,"title":"Commands"},{"id":"flags","level":2,"sub":[],"title":"Flags"}],"title":"Concepts"},{"id":"getting-started","level":1,"sub":[{"id":"using-the-zulu-library","level":2,"sub":[{"id":"create-root-command","level":3,"title":"Create root command"},{"id":"create-additional-commands","level":3,"title":"Create additional commands"}],"title":"Using the Zulu Library"},{"id":"working-with-flags","level":2,"sub":[{"id":"assign-flags-to-a-command","level":3,"title":"Assign flags to a command"},{"id":"persistent-flags","level":3,"title":"Persistent Flags"},{"id":"local-flags","level":3,"title":"Local Flags"},{"id":"local-flag-on-parent-commands","level":3,"title":"Local Flag on Parent Commands"},{"id":"required-flags","level":3,"title":"Required flags"},{"id":"flag-groups","level":3,"title":"Flag Groups"}],"title":"Working with Flags"},{"id":"positional-and-custom-arguments","level":2,"title":"Positional and Custom Arguments"},{"id":"example","level":2,"title":"Example"},{"id":"help-command","level":2,"sub":[{"id":"example-1","level":3,"title":"Example"},{"id":"grouping-commands-in-help","level":3,"title":"Grouping commands in help"},{"id":"defining-your-own-help","level":3,"title":"Defining your own help"}],"title":"Help Command"},{"id":"usage-message","level":2,"sub":[{"id":"example-2","level":3,"title":"Example"},{"id":"defining-your-own-usage","level":3,"title":"Defining your own usage"}],"title":"Usage Message"},{"id":"version-flag","level":2,"title":"Version Flag"},{"id":"prerun-and-postrun-hooks","level":2,"title":"PreRun and PostRun Hooks"},{"id":"suggestions-when-unknown-command-happens","level":2,"sub":[],"title":"Suggestions when \u0026ldquo;unknown command\u0026rdquo; happens"}],"title":"Getting Started"},{"id":"shell-completions","level":1,"sub":[{"id":"default-completion-sub-command","level":2,"title":"Default completion sub-command"},{"id":"customizing-completions","level":2,"sub":[{"id":"completion-of-nouns","level":3,"title":"Completion of nouns"},{"id":"completions-for-flags","level":3,"title":"Completions for flags"}],"title":"Customizing completions"},{"id":"bash","level":2,"sub":[{"id":"dependencies","level":3,"title":"Dependencies"},{"id":"aliases","level":3,"title":"Aliases"}],"title":"Bash"},{"id":"zsh","level":2,"title":"Zsh"},{"id":"fish","level":2,"sub":[{"id":"limitations","level":3,"title":"Limitations"}],"title":"Fish"},{"id":"powershell","level":2,"sub":[{"id":"aliases-1","level":3,"title":"Aliases"},{"id":"limitations-1","level":3,"title":"Limitations"}],"title":"PowerShell"}],"title":"Shell completions"},{"id":"documentation-generation","level":1,"sub":[{"id":"options","level":2,"title":"Options"},{"id":"man-pages","level":2,"title":"Man Pages"},{"id":"markdown-docs","level":2,"sub":[{"id":"for-the-entire-command-tree","level":3,"title":"For the entire command tree"},{"id":"for-a-single-command","level":3,"title":"For a single command"},{"id":"customize-the-output","level":3,"title":"Customize the output"}],"title":"Markdown Docs"},{"id":"restructured-text-docs","level":2,"sub":[{"id":"for-the-entire-command-tree-1","level":3,"title":"For the entire command tree"},{"id":"for-a-single-command-1","level":3,"title":"For a single command"},{"id":"customize-the-output-1","level":3,"title":"Customize the output"}],"title":"ReStructured Text Docs"},{"id":"yaml-docs","level":2,"sub":[{"id":"for-the-entire-command-tree-2","level":3,"title":"For the entire command tree"},{"id":"for-a-single-command-2","level":3,"title":"For a single command"},{"id":"customize-the-output-2","level":3,"title":"Customize the output"}],"title":"Yaml Docs"},{"id":"asciidoc-docs","level":2,"sub":[{"id":"generate-for-the-entire-command-tree","level":3,"title":"Generate for the entire command tree"},{"id":"generate-for-a-single-command","level":3,"title":"Generate for a single command"},{"id":"customize-the-output-3","level":3,"title":"Customize the output"}],"title":"AsciiDoc Docs"}],"title":"Documentation generation"},{"id":"contributing-to-zulu","level":1,"sub":[{"id":"code-of-conduct","level":2,"title":"Code of Conduct"},{"id":"questions","level":2,"title":"Questions"},{"id":"filing-a-bug-or-feature","level":2,"title":"Filing a bug or feature"},{"id":"submitting-changes","level":2,"sub":[{"id":"quick-steps-to-contribute","level":3,"title":"Quick steps to contribute"}],"title":"Submitting changes"}],"title":"Contributing to Zulu"},{"id":"changelog","level":1,"sub":[],"title":"Changelog"},{"id":"conduct","level":1,"sub":[{"id":"versioning","level":2,"title":"Versioning"},{"id":"backward-compatibility","level":2,"title":"Backward Compatibility"},{"id":"deprecation","level":2,"title":"Deprecation"},{"id":"cve","level":2,"title":"CVE"},{"id":"communication","level":2,"title":"Communication"},{"id":"breaking-changes","level":2,"title":"Breaking Changes"},{"id":"ci-testing","level":2,"title":"CI Testing"},{"id":"disclaimer","level":2,"sub":[],"title":"Disclaimer"}],"title":"Conduct"},{"id":"license","level":1,"sub":[{"sub":[]}],"title":"License"}])' @scroll.window=onScroll()><template x-for="row in rows"><li><a x-text=row.title @click=click(row) :href="`#${row.id}`" class=toc-link x-bind=rowClass(row)></a><ul x-show=row.open x-bind=transitions() class=da-toc-list-h2><template x-for="row in row.sub"><li><a x-text=row.title @click=click(row) :href="`#${row.id}`" class=toc-link x-bind=rowClass(row)></a></li></template></ul></li></template></ul><ul class=toc-footer><li><a href=https://github.com/zulucmd/zulu><img src="https://img.shields.io/badge/-zulucmd/zulu-323131.svg?logo=github&style=flat-square&longCache=true" alt=github.com/zulucmd/zulu></a></li><li>Built with <a href=https://gohugo.io/>Hugo</a> theme <a href=https://github.com/bep/docuapi>DocuAPI</a> by <a href=https://github.com/bep>bep</a></li></ul></div><div class=page-wrapper><div class=dark-box></div><div class=content><h1 id=overview>Overview</h1><p>Zulu is a library providing a simple interface to create powerful modern CLI
interfaces similar to git & go tools.</p><p>Zulu provides:</p><ul><li>Easy subcommand-based CLIs: <code>app server</code>, <code>app fetch</code>, etc.</li><li>Fully POSIX-compliant flags (including short & long versions).</li><li>Nested subcommands.</li><li>Global, local and cascading flags.</li><li>Intelligent suggestions (<code>app srver</code> -> did you mean <code>app server</code>?).</li><li>Automatic help generation for commands and flags.</li><li>Automatic help flag recognition of <code>-h</code>, <code>--help</code>, etc.</li><li>Automatically generated shell autocomplete for your application (bash, zsh, fish, PowerShell).</li><li>Automatically generated man pages for your application.</li><li>Command aliases, so you can change things without breaking them.</li><li>The flexibility to define your own help, usage, etc.</li><li>Optional seamless integration with <a href=https://github.com/zulucmd/koanf-zflag>koanf</a> for 12-factor apps.</li></ul><h1 id=installation>Installation</h1><p>Using Zulu is easy. Use <code>go get</code> to install the latest version of the library.</p><p>Install the library and its dependencies.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ go get -u github.com/zulucmd/zulu/v2
</span></span><span style=display:flex><span>go: downloading github.com/zulucmd/zulu/v2 ...
</span></span></code></pre></div><p>Import Zulu in your application.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span></code></pre></div><h1 id=differences-with-cobra>Differences with Cobra</h1><p>Zulu is a fork of <a href=https://github.com/spf13/cobra>spf13/cobra</a>. Notable differences between Cobra and Zulu are:</p><ul><li>Replaced <a href=https://github.com/spf13/pflag>spf13/pflag</a> with <a href=https://github.com/zulucmd/zflag>zulucmd/zflag</a>.</li><li>Zulu has no support for <a href=https://github.com/spf13/viper>Viper</a>. Viper only works with <a href=https://github.com/spf13/viper>spf13/pflag</a>, which was forked into <a href=https://github.com/zulucmd/zflag>zflag</a>, in use by zulu. Instead, you can use <a href=https://github.com/zulucmd/koanf-zflag>koanf-zflag</a> package to utilise <a href=https://github.com/knadh/koanf>knadh/koanf</a>.</li><li>Removed all the <code>*Run</code> hooks, in favour of <code>*RunE</code> hooks. This just simplifies things and avoids duplicated code.</li><li>Added hooks for <code>InitializeE</code> and <code>FinalizeE</code>.</li><li>Added new <code>On*</code> hooks.</li><li>Added a new <code>CancelRun()</code> method.</li><li>Added an AsciiDoc generator.</li><li>Added support for grouped commands.</li><li>Removed the legacy bash completions.</li><li>Improved support flags with optional values.</li><li>Removed many old code that was there for backwards compatibility reasons.</li></ul><p>Note the above list is not exhaustive, and many of the PRs were merged in from unclosed PRs in the Cobra repo. For a full list of changes see <a href=https://github.com/zulucmd/zulu/compare/e04ec72...main>Git history</a>.</p><h1 id=concepts>Concepts</h1><p>Zulu is built on a structure of commands, arguments & flags.</p><p><strong>Commands</strong> represent actions, <strong>Args</strong> are things, and <strong>Flags</strong> are modifiers for those actions.</p><p>The best applications read like sentences when used, and as a result, users
intuitively know how to interact with them.</p><p>The pattern to follow is
<code>APPNAME VERB NOUN --ADJECTIVE.</code>
or
<code>APPNAME COMMAND ARG --FLAG</code></p><p>A few good real world examples may better illustrate this point.</p><p>In the following example, &lsquo;server&rsquo; is a command, and &lsquo;port&rsquo; is a flag.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ hugo server --port<span style=color:#f92672>=</span><span style=color:#ae81ff>1313</span>
</span></span><span style=display:flex><span>hugo: downloading modules
</span></span></code></pre></div><p>In this command, we are telling Git to clone the URL bare.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ git clone URL --bare
</span></span><span style=display:flex><span>Cloning into bare repository <span style=color:#e6db74>&#39;/tmp/project&#39;</span>...
</span></span></code></pre></div><h2 id=commands>Commands</h2><p>Command is the central point of the application. Each interaction that
the application supports will be contained in a Command. A command can
have children commands and optionally run an action.</p><p>In the example above, &lsquo;server&rsquo; is the command.</p><p><a href=https://pkg.go.dev/github.com/zulucmd/zulu#Command>More about <code>zulu.Command</code></a></p><h2 id=flags>Flags</h2><p>A flag is a way to modify the behaviour of a command. Zulu supports
fully POSIX-compliant, flags as well as the Go <a href=https://golang.org/pkg/flag/>flag package</a>.
A Zulu command can define flags that persist through to children commands
and flags that are only available to that command.</p><p>In the example above, &lsquo;port&rsquo; is the flag.</p><p>Flag functionality is provided by the <a href=https://github.com/zulucmd/zflag>zflag
library</a>, a fork of the great <a href=https://github.com/spf13/pflag>spf13/pflag</a>
library, which itself is a fork of the flag package from the standard library, and maintains the same interface while adding POSIX compliance.</p><h1 id=getting-started>Getting Started</h1><p>While you are welcome organise your application how you see fit, typically a Zulu-based application will follow the following organisational structure:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>  ▾ cmd/
</span></span><span style=display:flex><span>    ▾ appName/
</span></span><span style=display:flex><span>        add.go
</span></span><span style=display:flex><span>        your.go
</span></span><span style=display:flex><span>        commands.go
</span></span><span style=display:flex><span>        here.go
</span></span><span style=display:flex><span>        main.go
</span></span></code></pre></div><p>In a Zulu app, typically the <code>main.go</code> file is very bare. It serves one purpose: initializing Zulu. It can optionally include the root <code>zulu.Command</code> definition.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Execute</span>(); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Fprintln</span>(<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stderr</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Exit</span>(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=using-the-zulu-library>Using the Zulu Library</h2><p>To implement Zulu, you need to create a bare <code>main.go</code> file and a <code>rootCmd</code> file. You can optionally provide additional commands as you see fit.</p><h3 id=create-root-command>Create root command</h3><p>Zulu doesn&rsquo;t require any special constructors. Simply create your commands.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// cmd/$app/main.go
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>rootCmd</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;hugo&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;Hugo is a very fast static site generator&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Long</span>: <span style=color:#e6db74>`A Fast and Flexible Static Site Generator built with
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                love by spf13 and friends in Go.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>                Complete documentation is available at https://hugo.spf13.com`</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>RunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// Do Stuff Here
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	},
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Execute</span>(); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Fprintln</span>(<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stderr</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Exit</span>(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>You additionally define flags and handle configuration in your <code>InitializeE()</code> or the <code>init()</code> function.</p><p>Please note, <code>init()</code> is generally seen as an antipattern within the Go community.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// cmd/$app/main.go
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zflag/v2&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Used for flags.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>userLicense</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>rootCmd</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;zulu&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;A generator for Zulu based Applications&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Long</span>: <span style=color:#e6db74>`Zulu is a CLI library for Go that empowers applications.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>This application is a tool to generate the needed files
</span></span></span><span style=display:flex><span><span style=color:#e6db74>to quickly create a Zulu application.`</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>InitializeE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>PersistentFlags</span>().<span style=color:#a6e22e>StringVar</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>cfgFile</span>, <span style=color:#e6db74>&#34;config&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;config file (default is $HOME/.zulu.yaml)&#34;</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>PersistentFlags</span>().<span style=color:#a6e22e>String</span>(<span style=color:#e6db74>&#34;author&#34;</span>, <span style=color:#e6db74>&#34;YOUR NAME&#34;</span>, <span style=color:#e6db74>&#34;author name for copyright attribution&#34;</span>, <span style=color:#a6e22e>zflag</span>.<span style=color:#a6e22e>OptShorthand</span>(<span style=color:#e6db74>&#39;a&#39;</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>PersistentFlags</span>().<span style=color:#a6e22e>StringVar</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>userLicense</span>, <span style=color:#e6db74>&#34;license&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;name of license for the project&#34;</span>, <span style=color:#a6e22e>zflag</span>.<span style=color:#a6e22e>OptShorthand</span>(<span style=color:#e6db74>&#39;l&#39;</span>))
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>PersistentFlags</span>().<span style=color:#a6e22e>Bool</span>(<span style=color:#e6db74>&#34;install&#34;</span>, <span style=color:#66d9ef>true</span>, <span style=color:#e6db74>&#34;install the application&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>AddCommand</span>(<span style=color:#a6e22e>addCmd</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>AddCommand</span>(<span style=color:#a6e22e>initCmd</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Execute</span>(); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Fprintln</span>(<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stderr</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Exit</span>(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=create-additional-commands>Create additional commands</h3><p>Additional commands can be defined, and each is typically assigned its own file within the <code>cmd/</code> directory.</p><p>If you wanted to create a version command, you would create <code>cmd/version.go</code>, and populate it accordingly.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>init</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>AddCommand</span>(<span style=color:#a6e22e>versionCmd</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>versionCmd</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;version&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;Print the version number of Hugo&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Long</span>:  <span style=color:#e6db74>`All software has versions. This is Hugo&#39;s`</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>RunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Hugo Static Site Generator v0.9 -- HEAD&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=working-with-flags>Working with Flags</h2><p>Flags provide modifiers to control how the action command operates.</p><h3 id=assign-flags-to-a-command>Assign flags to a command</h3><p>Since the flags are defined and used in different locations, we need to define a variable outside with the correct scope to assign the flag to work with.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>Verbose</span> <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>Source</span> <span style=color:#66d9ef>string</span>
</span></span></code></pre></div><p>There are two different approaches to assign a flag.</p><h3 id=persistent-flags>Persistent Flags</h3><p>A flag can be &lsquo;persistent&rsquo;, meaning that this flag will be available to the command it&rsquo;s assigned to as well as every command under that command. For global flags, assign a flag as a persistent flag on the root.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>PersistentFlags</span>().<span style=color:#a6e22e>BoolVar</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>Verbose</span>, <span style=color:#e6db74>&#34;verbose&#34;</span> <span style=color:#66d9ef>false</span>, <span style=color:#e6db74>&#34;verbose output&#34;</span>, <span style=color:#a6e22e>zflag</span>.<span style=color:#a6e22e>OptShorthand</span>(<span style=color:#e6db74>&#39;v&#39;</span>))
</span></span></code></pre></div><h3 id=local-flags>Local Flags</h3><p>A flag can also be assigned locally, which will only apply to that specific command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>Flags</span>().<span style=color:#a6e22e>StringVar</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>Source</span>, <span style=color:#e6db74>&#34;source&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;Source directory to read from&#34;</span>, <span style=color:#a6e22e>zflag</span>.<span style=color:#a6e22e>OptShorthand</span>(<span style=color:#e6db74>&#39;s&#39;</span>))
</span></span></code></pre></div><h3 id=local-flag-on-parent-commands>Local Flag on Parent Commands</h3><p>By default, Zulu only parses local flags on the target command, and any local flags on parent commands are ignored. By enabling <code>Command.TraverseChildren</code>, Zulu will parse local flags on each command before executing the target command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>command</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Use</span>: <span style=color:#e6db74>&#34;print [OPTIONS] [COMMANDS]&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>TraverseChildren</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=required-flags>Required flags</h3><p>Flags are optional by default. If instead you wish your command to report an error when a flag has not been set, mark it as required:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Flags</span>().<span style=color:#a6e22e>StringVar</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>Region</span>, <span style=color:#e6db74>&#34;region&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;AWS region&#34;</span>, <span style=color:#a6e22e>zflag</span>.<span style=color:#a6e22e>OptShorthand</span>(<span style=color:#e6db74>&#39;r&#39;</span>), <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>FlagOptRequired</span>())
</span></span></code></pre></div><h3 id=flag-groups>Flag Groups</h3><p>If you have different flags that must be provided together (e.g. if they provide the <code>--username</code> flag they MUST provide the <code>--password</code> flag as well) then
Cobra can enforce that requirement:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Flags</span>().<span style=color:#a6e22e>StringVarP</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>u</span>, <span style=color:#e6db74>&#34;username&#34;</span>, <span style=color:#e6db74>&#34;u&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;Username (required if password is set)&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Flags</span>().<span style=color:#a6e22e>StringVarP</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>pw</span>, <span style=color:#e6db74>&#34;password&#34;</span>, <span style=color:#e6db74>&#34;p&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;Password (required if username is set)&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>MarkFlagsRequiredTogether</span>(<span style=color:#e6db74>&#34;username&#34;</span>, <span style=color:#e6db74>&#34;password&#34;</span>)
</span></span></code></pre></div><p>You can also prevent different flags from being provided together if they represent mutually
exclusive options such as specifying an output format as either <code>--json</code> or <code>--yaml</code> but never both:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Flags</span>().<span style=color:#a6e22e>BoolVar</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>u</span>, <span style=color:#e6db74>&#34;json&#34;</span>, <span style=color:#66d9ef>false</span>, <span style=color:#e6db74>&#34;Output in JSON&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Flags</span>().<span style=color:#a6e22e>BoolVar</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>pw</span>, <span style=color:#e6db74>&#34;yaml&#34;</span>, <span style=color:#66d9ef>false</span>, <span style=color:#e6db74>&#34;Output in YAML&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>MarkFlagsMutuallyExclusive</span>(<span style=color:#e6db74>&#34;json&#34;</span>, <span style=color:#e6db74>&#34;yaml&#34;</span>)
</span></span></code></pre></div><p>In both of these cases:</p><ul><li>both local and persistent flags can be used<ul><li><strong>NOTE:</strong> the group is only enforced on commands where every flag is defined</li></ul></li><li>a flag may appear in multiple groups</li><li>a group may contain any number of flags</li></ul><h2 id=positional-and-custom-arguments>Positional and Custom Arguments</h2><p>Validation of positional arguments can be specified using the <code>Args</code> field of <code>Command</code>. The following validators are built in:</p><ul><li><code>NoArgs</code> - report an error if there are any positional args.</li><li><code>ArbitraryArgs</code> - accept any number of args.</li><li><code>MinimumNArgs(int)</code> - report an error if less than N positional args are provided.</li><li><code>MaximumNArgs(int)</code> - report an error if more than N positional args are provided.</li><li><code>ExactArgs(int)</code> - report an error if there are not exactly N positional args.</li><li><code>RangeArgs(min, max)</code> - report an error if the number of args is not between <code>min</code> and <code>max</code>.</li><li><code>MatchAll(pargs ...PositionalArgs)</code> - enables combining existing checks with arbitrary other checks (e.g. you want to check the ExactArgs length along with other qualities).</li></ul><p>If <code>Args</code> is undefined or <code>nil</code>, it defaults to <code>ArbitraryArgs</code>.</p><p>Field <code>ValidArgs</code> of type <code>[]string</code> can be defined in <code>Command</code>, in order to report an error if there are any positional args that are not in the list. This validation is executed implicitly before the validator defined in <code>Args</code>.</p><p>It is possible to set any custom validator that satisfies <code>func(cmd *zulu.Command, args []string) error</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>cmd</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;hello&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Args</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Optionally run one of the validators provided by zulu
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>MinimumNArgs</span>(<span style=color:#ae81ff>1</span>)(<span style=color:#a6e22e>cmd</span>, <span style=color:#a6e22e>args</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Run the custom validation logic
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>myapp</span>.<span style=color:#a6e22e>IsValidColor</span>(<span style=color:#a6e22e>args</span>[<span style=color:#ae81ff>0</span>]) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;invalid color specified: %s&#34;</span>, <span style=color:#a6e22e>args</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>RunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Hello, World!&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=example>Example</h2><p>In the example below, we have defined three commands. Two are at the top level and one (<code>cmdTimes</code>) is a child of one of the top commands. In this case the root is not executable, meaning that a subcommand is required. This is accomplished by not providing a <code>RunE</code> for the <code>rootCmd</code>.</p><p>We have only defined one flag for a single command.</p><p>More documentation about flags is available <a href=https://github.com/zulucmd/zflag>here</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;strings&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zflag/v2&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>echoTimes</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>cmdPrint</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;print [string to print]&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;Print anything to the screen&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Long</span>: <span style=color:#e6db74>`print is for printing anything back to the screen.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>For many years people have printed back to the screen.`</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Args</span>: <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>MinimumNArgs</span>(<span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>RunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Print: &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>args</span>, <span style=color:#e6db74>&#34; &#34;</span>))
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>cmdEcho</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;echo [string to echo]&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;Echo anything to the screen&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Long</span>: <span style=color:#e6db74>`echo is for echoing anything back.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Echo works a lot like print, except it has a child command.`</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Args</span>: <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>MinimumNArgs</span>(<span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>RunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Echo: &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>args</span>, <span style=color:#e6db74>&#34; &#34;</span>))
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>cmdTimes</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;times [string to echo]&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;Echo anything to the screen more times&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Long</span>: <span style=color:#e6db74>`echo things multiple times back to the user by providing
</span></span></span><span style=display:flex><span><span style=color:#e6db74>a count and a string.`</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Args</span>: <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>MinimumNArgs</span>(<span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>RunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>echoTimes</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Echo: &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>args</span>, <span style=color:#e6db74>&#34; &#34;</span>))
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmdTimes</span>.<span style=color:#a6e22e>Flags</span>().<span style=color:#a6e22e>IntVar</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>echoTimes</span>, <span style=color:#e6db74>&#34;times&#34;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;times to echo the input&#34;</span>, <span style=color:#a6e22e>zflag</span>.<span style=color:#a6e22e>OptShorthand</span>(<span style=color:#e6db74>&#39;t&#39;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>rootCmd</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{<span style=color:#a6e22e>Use</span>: <span style=color:#e6db74>&#34;app&#34;</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>AddCommand</span>(<span style=color:#a6e22e>cmdPrint</span>, <span style=color:#a6e22e>cmdEcho</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmdEcho</span>.<span style=color:#a6e22e>AddCommand</span>(<span style=color:#a6e22e>cmdTimes</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Execute</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=help-command>Help Command</h2><p>Zulu automatically adds a help command to your application when you have subcommands. This will be called when a user runs <code>app help</code>. Additionally, help will also support all other commands as input. Say, for instance, you have a command called <code>create</code> without any additional configuration; Zulu will work when <code>app help create</code> is called. Every command will automatically have the <code>--help</code> flag added.</p><h3 id=example-1>Example</h3><p>The following output is automatically generated by Zulu. Nothing beyond the command and flag definitions are needed.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ zulu help
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Zulu is a CLI library <span style=color:#66d9ef>for</span> Go that empowers applications.
</span></span><span style=display:flex><span>This application is a tool to generate the needed files
</span></span><span style=display:flex><span>to quickly create a Zulu application.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Usage:
</span></span><span style=display:flex><span>  zulu <span style=color:#f92672>[</span>command<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Available Commands:
</span></span><span style=display:flex><span>  add         Add a command to a Zulu Application
</span></span><span style=display:flex><span>  help        Help about any command
</span></span><span style=display:flex><span>  init        Initialize a Zulu Application
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Flags:
</span></span><span style=display:flex><span>  -a, --author string    author name <span style=color:#66d9ef>for</span> copyright attribution <span style=color:#f92672>(</span>default <span style=color:#e6db74>&#34;YOUR NAME&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      --config string    config file <span style=color:#f92672>(</span>default is $HOME/.zulu.yaml<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  -h, --help             help <span style=color:#66d9ef>for</span> zulu
</span></span><span style=display:flex><span>  -l, --license string   name of license <span style=color:#66d9ef>for</span> the project
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Use <span style=color:#e6db74>&#34;zulu [command] --help&#34;</span> <span style=color:#66d9ef>for</span> more information about a command.
</span></span></code></pre></div><p>Help is just a command like any other. There is no special logic or behavior around it. In fact, you can provide your own if you want.</p><h3 id=grouping-commands-in-help>Grouping commands in help</h3><p>Zulu supports grouping of available commands. Groups can either be explicitly defined by <code>AddGroup</code> and set by the <code>Group</code> element of a subcommand. If Groups are not explicitly defined they are implicitly defined.</p><h3 id=defining-your-own-help>Defining your own help</h3><p>You can provide your own Help command or your own template for the default command to use with following functions:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>SetHelpCommand</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>SetHelpFunc</span>(<span style=color:#a6e22e>f</span> <span style=color:#66d9ef>func</span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>, []<span style=color:#66d9ef>string</span>))
</span></span><span style=display:flex><span><span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>SetHelpTemplate</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>)
</span></span></code></pre></div><p>The latter two will also apply to any children commands.</p><h2 id=usage-message>Usage Message</h2><p>When the user provides an invalid flag or invalid command, Zulu responds by
showing the user the &lsquo;usage&rsquo;.</p><h3 id=example-2>Example</h3><p>You may recognize this from the help above. That&rsquo;s because the default help
embeds the usage as part of its output.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ zulu --invalid
</span></span><span style=display:flex><span>Error: unknown flag: --invalid
</span></span><span style=display:flex><span>Usage:
</span></span><span style=display:flex><span>  zulu <span style=color:#f92672>[</span>command<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Available Commands:
</span></span><span style=display:flex><span>  add         Add a command to a Zulu Application
</span></span><span style=display:flex><span>  help        Help about any command
</span></span><span style=display:flex><span>  init        Initialize a Zulu Application
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Flags:
</span></span><span style=display:flex><span>  -a, --author string    author name <span style=color:#66d9ef>for</span> copyright attribution <span style=color:#f92672>(</span>default <span style=color:#e6db74>&#34;YOUR NAME&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      --config string    config file <span style=color:#f92672>(</span>default is $HOME/.zulu.yaml<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  -h, --help             help <span style=color:#66d9ef>for</span> zulu
</span></span><span style=display:flex><span>  -l, --license string   name of license <span style=color:#66d9ef>for</span> the project
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Use <span style=color:#e6db74>&#34;zulu [command] --help&#34;</span> <span style=color:#66d9ef>for</span> more information about a command.
</span></span></code></pre></div><h3 id=defining-your-own-usage>Defining your own usage</h3><p>You can provide your own usage function or template for Zulu to use. Like help, the function and template are overridable through public methods:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>SetUsageFunc</span>(<span style=color:#a6e22e>f</span> <span style=color:#66d9ef>func</span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>) <span style=color:#66d9ef>error</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>SetUsageTemplate</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>)
</span></span></code></pre></div><h2 id=version-flag>Version Flag</h2><p>Zulu adds a top-level <code>--version</code> flag if the Version field is set on the root command. Running an application with the <code>--version</code> flag will print the version to stdout using the version template. The template can be customized using the <code>cmd.SetVersionTemplate(s string)</code> function.</p><h2 id=prerun-and-postrun-hooks>PreRun and PostRun Hooks</h2><p>It is possible to run functions before or after the main <code>RunE</code> function of your command. The <code>PersistentPreRunE</code> and <code>PreRunE</code> functions will be executed before <code>RunE</code>. <code>PersistentPostRunE</code> and <code>PostRunE</code> will be executed after <code>RunE</code>. An <code>InitializeE</code> will run prior to attempting to parse any flags. A <code>FinalizeE</code> runs at the end very regardless at all times, even any of the <code>*RunE</code> produce an error. The <code>Persistent*RunE</code> functions will be inherited by children.</p><p>These functions are run in the following order.</p><ul><li><code>PersistentInitializeE</code></li><li><code>InitializeE</code></li><li><code>PersistentPreRunE</code></li><li><code>PreRunE</code></li><li><code>RunE</code></li><li><code>PostRunE</code></li><li><code>PersistentPostRunE</code></li><li><code>FinalizeE</code></li><li><code>PersistentFinalizeE</code></li></ul><p>An example of two commands which use all of these features is below.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>zulu_test</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ExampleHookFuncE</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>rootCmd</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;root [sub]&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;My root command&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PersistentInitializeE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside rootCmd PersistentInitializeE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>InitializeE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside rootCmd InitializeE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PersistentPreRunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside rootCmd PersistentPreRunE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PreRunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside rootCmd PreRunE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>RunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside rootCmd RunE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PostRunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside rootCmd PostRunE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PersistentPostRunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside rootCmd PersistentPostRunE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>FinalizeE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside rootCmd FinalizeE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PersistentFinalizeE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside rootCmd PersistentFinalizeE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>subCmd</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;sub [no options!]&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;My subcommand&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PersistentInitializeE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside subCmd PersistentInitializeE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>InitializeE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside subCmd InitializeE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PreRunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside subCmd PreRunE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>RunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside subCmd RunE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PostRunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside subCmd PostRunE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PersistentPostRunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside subCmd PersistentPostRunE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>FinalizeE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside subCmd FinalizeE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PersistentFinalizeE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Inside subCmd PersistentFinalizeE with args: %v\n&#34;</span>, <span style=color:#a6e22e>args</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>AddCommand</span>(<span style=color:#a6e22e>subCmd</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>SetArgs</span>([]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;&#34;</span>})
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_</span> = <span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Execute</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>SetArgs</span>([]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;sub&#34;</span>, <span style=color:#e6db74>&#34;arg1&#34;</span>, <span style=color:#e6db74>&#34;arg2&#34;</span>})
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_</span> = <span style=color:#a6e22e>rootCmd</span>.<span style=color:#a6e22e>Execute</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Output:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd PersistentInitializeE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd InitializeE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd PersistentPreRunE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd PreRunE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd RunE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd PostRunE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd PersistentPostRunE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd FinalizeE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd PersistentFinalizeE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside subCmd PersistentInitializeE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd PersistentInitializeE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside subCmd InitializeE with args: []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd PersistentPreRunE with args: [arg1 arg2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside subCmd PreRunE with args: [arg1 arg2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside subCmd RunE with args: [arg1 arg2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside subCmd PostRunE with args: [arg1 arg2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside subCmd PersistentPostRunE with args: [arg1 arg2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd PersistentPostRunE with args: [arg1 arg2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside subCmd FinalizeE with args: [arg1 arg2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside subCmd PersistentFinalizeE with args: [arg1 arg2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Inside rootCmd PersistentFinalizeE with args: [arg1 arg2]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h2 id=suggestions-when-unknown-command-happens>Suggestions when &ldquo;unknown command&rdquo; happens</h2><p>Zulu will print automatic suggestions when &ldquo;unknown command&rdquo; errors happen. This allows Zulu to behave similarly to the <code>git</code> command when a typo happens. For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ hugo srever
</span></span><span style=display:flex><span>Error: unknown command <span style=color:#e6db74>&#34;srever&#34;</span> <span style=color:#66d9ef>for</span> <span style=color:#e6db74>&#34;hugo&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Did you mean this?
</span></span><span style=display:flex><span>        server
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Run <span style=color:#e6db74>&#39;hugo --help&#39;</span> <span style=color:#66d9ef>for</span> usage.
</span></span></code></pre></div><p>Suggestions are automatic based on every subcommand registered and use an implementation of <a href=https://en.wikipedia.org/wiki/Levenshtein_distance>Levenshtein distance</a>. Every registered command that matches a minimum distance of 2 (ignoring case) will be displayed as a suggestion.</p><p>If you need to disable suggestions or tweak the string distance in your command, use:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>command</span>.<span style=color:#a6e22e>DisableSuggestions</span> = <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>command</span>.<span style=color:#a6e22e>SuggestionsMinimumDistance</span> = <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>You can also explicitly set names for which a given command will be suggested using the <code>SuggestFor</code> attribute. This allows suggestions for strings that are not close in terms of string distance, but makes sense in your set of commands and for some which you don&rsquo;t want aliases. Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ kubectl remove
</span></span><span style=display:flex><span>Error: unknown command <span style=color:#e6db74>&#34;remove&#34;</span> <span style=color:#66d9ef>for</span> <span style=color:#e6db74>&#34;kubectl&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Did you mean this?
</span></span><span style=display:flex><span>        delete
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Run <span style=color:#e6db74>&#39;kubectl help&#39;</span> <span style=color:#66d9ef>for</span> usage.
</span></span></code></pre></div><h1 id=shell-completions>Shell completions</h1><p>Zulu can generate shell completions for multiple shells.
The currently supported shells are:</p><ul><li>Bash</li><li>Zsh</li><li>fish</li><li>PowerShell</li></ul><p>Zulu will automatically provide your program with a fully functional <code>completion</code> sub-command,
similarly to how it provides the <code>help</code> command.</p><p>Zulu&rsquo;s completion scripts provide the following features:</p><ul><li>Supports completion descriptions (like the other shells).</li><li>Small completion script of less than 300 lines.</li><li>Streamlined user experience thanks to a completion behavior aligned with the other shells.</li></ul><h2 id=default-completion-sub-command>Default completion sub-command</h2><p>Zulu provides a few options for the default <code>completion</code> command. To configure such options you must set
the <code>CompletionOptions</code> field on the <em>root</em> command.</p><p>Please look at the documentation for the <a href=https://pkg.go.dev/github.com/zulucmd/zulu/v2#CompletionOptions><code>CompletionOptions</code></a> struct to see what can be configured.</p><h2 id=customizing-completions>Customizing completions</h2><p>The generated completion scripts will automatically handle completing commands and flags.
However, you can make your completions much more powerful by providing information to
complete your program&rsquo;s nouns and flag values.</p><h3 id=completion-of-nouns>Completion of nouns</h3><h4 id=static-completion-of-nouns>Static completion of nouns</h4><p>Zulu allows you to provide a pre-defined list of completion choices for your nouns using the <code>ValidArgs</code> field.
For example, if you want <code>kubectl get [tab][tab]</code> to show a list of valid &ldquo;nouns&rdquo; you have to set them.
Some simplified code from <code>kubectl get</code> looks like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>validArgs</span> []<span style=color:#66d9ef>string</span> = { <span style=color:#e6db74>&#34;pod&#34;</span>, <span style=color:#e6db74>&#34;node&#34;</span>, <span style=color:#e6db74>&#34;service&#34;</span>, <span style=color:#e6db74>&#34;replicationcontroller&#34;</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>cmd</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Use</span>:     <span style=color:#e6db74>&#34;get [(-o|--output=)json|yaml|template|...] (RESOURCE [NAME] | RESOURCE/NAME ...)&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Short</span>:   <span style=color:#e6db74>&#34;Display one or many resources&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Long</span>:    <span style=color:#a6e22e>get_long</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Example</span>: <span style=color:#a6e22e>get_example</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>RunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>RunGet</span>(<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>out</span>, <span style=color:#a6e22e>cmd</span>, <span style=color:#a6e22e>args</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			panic(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ValidArgs</span>: <span style=color:#a6e22e>validArgs</span>,
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Notice we put the <code>ValidArgs</code> field on the <code>get</code> sub-command. Doing so will give results like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl get <span style=color:#f92672>[</span>tab<span style=color:#f92672>][</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>node   pod   replicationcontroller   service
</span></span></code></pre></div><h5 id=aliases-for-nouns>Aliases for nouns</h5><p>If your nouns have aliases, you can define them alongside <code>ValidArgs</code> using <code>ArgAliases</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>argAliases</span> []<span style=color:#66d9ef>string</span> = { <span style=color:#e6db74>&#34;pods&#34;</span>, <span style=color:#e6db74>&#34;nodes&#34;</span>, <span style=color:#e6db74>&#34;services&#34;</span>, <span style=color:#e6db74>&#34;svc&#34;</span>, <span style=color:#e6db74>&#34;replicationcontrollers&#34;</span>, <span style=color:#e6db74>&#34;rc&#34;</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>cmd</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ValidArgs</span>:  <span style=color:#a6e22e>validArgs</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ArgAliases</span>: <span style=color:#a6e22e>argAliases</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The aliases are not shown to the user on tab completion, but they are accepted as valid nouns by
the completion algorithm if entered manually, e.g. in:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl get rc <span style=color:#f92672>[</span>tab<span style=color:#f92672>][</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>backend        frontend       database
</span></span></code></pre></div><p>Note that without declaring <code>rc</code> as an alias, the completion algorithm would not know to show the list of
replication controllers following <code>rc</code>.</p><h4 id=dynamic-completion-of-nouns>Dynamic completion of nouns</h4><p>In some cases it is not possible to provide a list of completions in advance. Instead, the list of completions must be determined at execution-time. In a similar fashion as for static completions, you can use the <code>ValidArgsFunction</code> field to provide a Go function that Zulu will execute when it needs the list of completion choices for the nouns of a command. Note that either <code>ValidArgs</code> or <code>ValidArgsFunction</code> can be used for a single zulu command, but not both.
Simplified code from <code>helm status</code> looks like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>cmd</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;status RELEASE_NAME&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;Display the status of the named release&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Long</span>:  <span style=color:#a6e22e>status_long</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>RunE</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>RunStatus</span>(<span style=color:#a6e22e>args</span>[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ValidArgsFunction</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>toComplete</span> <span style=color:#66d9ef>string</span>) ([]<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirective</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>args</span>) <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirectiveNoFileComp</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>getReleasesFromCluster</span>(<span style=color:#a6e22e>toComplete</span>), <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirectiveNoFileComp</span>
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Where <code>getReleasesFromCluster()</code> is a Go function that returns the list of current Helm release names running on the Kubernetes cluster.
Similarly as for <code>RunE</code>, the <code>args</code> parameter represents the arguments present on the command-line, while the <code>toComplete</code> parameter represents the final argument which the user is trying to complete (e.g., <code>helm status th&lt;TAB></code> will have <code>toComplete</code> be <code>"th"</code>); the <code>toComplete</code> parameter will be empty when the user has requested completions right after typing a space (e.g., <code>helm status &lt;TAB></code>). Notice we put the <code>ValidArgsFunction</code> on the <code>status</code> sub-command, as it provides completions for this sub-command specifically. Let&rsquo;s assume the Helm releases on the cluster are: <code>harbor</code>, <code>notary</code>, <code>rook</code> and <code>thanos</code> then this dynamic completion will give results like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ helm status <span style=color:#f92672>[</span>tab<span style=color:#f92672>][</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>harbor notary rook thanos
</span></span></code></pre></div><p>You may have noticed the use of <code>zulu.ShellCompDirective</code>. These directives are bit fields allowing to control some shell completion behaviors for your particular completion. You can combine them with the bit-or operator such as <code>zulu.ShellCompDirectiveNoSpace | zulu.ShellCompDirectiveNoFileComp</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// ShellCompDirectiveError indicates an error occurred and completions should be ignored.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ShellCompDirectiveError</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ShellCompDirectiveNoSpace indicates that the shell should not add a space
</span></span></span><span style=display:flex><span><span style=color:#75715e>// after the completion even if there is a single completion provided.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ShellCompDirectiveNoSpace</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ShellCompDirectiveNoFileComp indicates that the shell should not provide
</span></span></span><span style=display:flex><span><span style=color:#75715e>// file completion even when no completion is provided.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ShellCompDirectiveNoFileComp</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ShellCompDirectiveFilterFileExt indicates that the provided completions
</span></span></span><span style=display:flex><span><span style=color:#75715e>// should be used as file extension filters.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// For example, to complete only files of the form *.json or *.yaml:
</span></span></span><span style=display:flex><span><span style=color:#75715e>//    return []string{&#34;yaml&#34;, &#34;json&#34;}, ShellCompDirectiveFilterFileExt
</span></span></span><span style=display:flex><span><span style=color:#75715e>// The BashCompFilenameExt annotation can also be used to obtain
</span></span></span><span style=display:flex><span><span style=color:#75715e>// the same behavior for flags. For flags, using FlagOptFilename() is a shortcut
</span></span></span><span style=display:flex><span><span style=color:#75715e>// to using this directive explicitly.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ShellCompDirectiveFilterFileExt</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ShellCompDirectiveFilterDirs indicates that only directory names should
</span></span></span><span style=display:flex><span><span style=color:#75715e>// be provided in file completion.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// For example:
</span></span></span><span style=display:flex><span><span style=color:#75715e>//    return nil, ShellCompDirectiveFilterDirs
</span></span></span><span style=display:flex><span><span style=color:#75715e>// To request directory names within another directory, the returned completions
</span></span></span><span style=display:flex><span><span style=color:#75715e>// should specify a single directory name within which to search. For example,
</span></span></span><span style=display:flex><span><span style=color:#75715e>// to complete directories within &#34;themes/&#34;:
</span></span></span><span style=display:flex><span><span style=color:#75715e>//    return []string{&#34;themes&#34;}, ShellCompDirectiveFilterDirs
</span></span></span><span style=display:flex><span><span style=color:#75715e>// The BashCompSubdirsInDir annotation can be used to
</span></span></span><span style=display:flex><span><span style=color:#75715e>// obtain the same behavior but only for flags. The function FlagOptDirname
</span></span></span><span style=display:flex><span><span style=color:#75715e>// zflag option has been provided as a convenience.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ShellCompDirectiveFilterDirs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ShellCompDirectiveKeepOrder indicates that the shell should preserve the order
</span></span></span><span style=display:flex><span><span style=color:#75715e>// in which the completions are provided.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ShellCompDirectiveKeepOrder</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ShellCompDirectiveDefault indicates to let the shell perform its default
</span></span></span><span style=display:flex><span><span style=color:#75715e>// behavior after completions have been provided.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// This one must be last to avoid messing up the iota count.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ShellCompDirectiveDefault</span>
</span></span></code></pre></div><p><em><strong>Note</strong></em>: When using the <code>ValidArgsFunction</code>, Zulu will call your registered function after having parsed all flags and arguments provided in the command-line. You therefore don&rsquo;t need to do this parsing yourself. For example, when a user calls <code>helm status --namespace my-rook-ns [tab][tab]</code>, Zulu will call your registered <code>ValidArgsFunction</code> after having parsed the <code>--namespace</code> flag, as it would have done when calling the <code>RunE</code> function.</p><h5 id=debugging-completion>Debugging completion</h5><p>Zulu achieves dynamic completion through the use of a hidden command called by the completion script. To debug your Go completion code, you can call this hidden command directly:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ helm __complete status har&lt;ENTER&gt;
</span></span><span style=display:flex><span>harbor
</span></span><span style=display:flex><span>:4
</span></span><span style=display:flex><span>Completion ended with directive: ShellCompDirectiveNoFileComp <span style=color:#75715e># This is on stderr</span>
</span></span></code></pre></div><p><em><strong>Important:</strong></em> If the noun to complete is empty (when the user has not yet typed any letters of that noun), you must pass an empty parameter to the <code>__complete</code> command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ helm __complete status <span style=color:#e6db74>&#34;&#34;</span>&lt;ENTER&gt;
</span></span><span style=display:flex><span>harbor
</span></span><span style=display:flex><span>notary
</span></span><span style=display:flex><span>rook
</span></span><span style=display:flex><span>thanos
</span></span><span style=display:flex><span>:4
</span></span><span style=display:flex><span>Completion ended with directive: ShellCompDirectiveNoFileComp <span style=color:#75715e># This is on stderr</span>
</span></span></code></pre></div><p>Calling the <code>__complete</code> command directly allows you to run the Go debugger to troubleshoot your code. You can also add printouts to your code; Zulu provides the following functions to use for printouts in Go completion code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// Prints to the completion script debug file (if BASH_COMP_DEBUG_FILE
</span></span></span><span style=display:flex><span><span style=color:#75715e>// is set to a file path) and optionally prints to stderr.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>CompDebug</span>(<span style=color:#a6e22e>msg</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>printToStdErr</span> <span style=color:#66d9ef>bool</span>) {
</span></span><span style=display:flex><span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>CompDebugln</span>(<span style=color:#a6e22e>msg</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>printToStdErr</span> <span style=color:#66d9ef>bool</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Prints to the completion script debug file (if BASH_COMP_DEBUG_FILE
</span></span></span><span style=display:flex><span><span style=color:#75715e>// is set to a file path) and to stderr.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>CompError</span>(<span style=color:#a6e22e>msg</span> <span style=color:#66d9ef>string</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>CompErrorln</span>(<span style=color:#a6e22e>msg</span> <span style=color:#66d9ef>string</span>)
</span></span></code></pre></div><p><em><strong>Important:</strong></em> You should <strong>not</strong> leave traces that print directly to stdout in your completion code as they will be interpreted as completion choices by the completion script. Instead, use the zulu-provided debugging traces functions mentioned above.</p><h3 id=completions-for-flags>Completions for flags</h3><h4 id=mark-flags-as-required>Mark flags as required</h4><p>Most of the time completions will only show sub-commands. But if a flag is required to make a sub-command work, you probably want it to show up when the user types [tab][tab]. You can mark a flag as &lsquo;Required&rsquo; using the <code>zulu.FlagOptRequired()</code> option.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>flagSet</span>.<span style=color:#a6e22e>String</span>(<span style=color:#e6db74>&#34;pod&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;pod usage&#34;</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>FlagOptRequired</span>())
</span></span><span style=display:flex><span><span style=color:#a6e22e>flagSet</span>.<span style=color:#a6e22e>String</span>(<span style=color:#e6db74>&#34;container&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;container usage&#34;</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>FlagOptRequired</span>())
</span></span></code></pre></div><p>and you&rsquo;ll get something like</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl exec <span style=color:#f92672>[</span>tab<span style=color:#f92672>][</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>-c            --container<span style=color:#f92672>=</span>  -p            --pod<span style=color:#f92672>=</span>
</span></span></code></pre></div><h4 id=specify-dynamic-flag-completion>Specify dynamic flag completion</h4><p>As for nouns, Zulu provides a way of defining dynamic completion of flags. To provide a Go function that Zulu will execute when it needs the list of completion choices for a flag, you must register the function using the <code>command.RegisterFlagCompletionFunc()</code> function.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>flagName</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;output&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>RegisterFlagCompletionFunc</span>(<span style=color:#a6e22e>flagName</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>toComplete</span> <span style=color:#66d9ef>string</span>) ([]<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirective</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;json&#34;</span>, <span style=color:#e6db74>&#34;table&#34;</span>, <span style=color:#e6db74>&#34;yaml&#34;</span>}, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirectiveDefault</span>
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>Notice that calling <code>RegisterFlagCompletionFunc()</code> is done through the <code>command</code> with which the flag is associated. In our example this dynamic completion will give results like so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ helm status --output <span style=color:#f92672>[</span>tab<span style=color:#f92672>][</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>json table yaml
</span></span></code></pre></div><h4 id=debugging>Debugging</h4><p>You can also easily debug your Go completion code for flags:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ helm __complete status --output <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>json
</span></span><span style=display:flex><span>table
</span></span><span style=display:flex><span>yaml
</span></span><span style=display:flex><span>:4
</span></span><span style=display:flex><span>Completion ended with directive: ShellCompDirectiveNoFileComp <span style=color:#75715e># This is on stderr</span>
</span></span></code></pre></div><p><em><strong>Important:</strong></em> You should <strong>not</strong> leave traces that print to stdout in your completion code as they will be interpreted as completion choices by the completion script. Instead, use the zulu-provided debugging traces functions mentioned further above.</p><h4 id=specify-valid-filename-extensions-for-flags-that-take-a-filename>Specify valid filename extensions for flags that take a filename</h4><p>To limit completions of flag values to file names with certain extensions you can either use the <code>zulu.FlagOptFilename()</code> function or a combination of <code>RegisterFlagCompletionFunc()</code> and <code>ShellCompDirectiveFilterFileExt</code>, like so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>flagSet</span>.<span style=color:#a6e22e>String</span>(<span style=color:#e6db74>&#34;output&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;output usage&#34;</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>FlagOptFilename</span>(<span style=color:#e6db74>&#34;yaml&#34;</span>, <span style=color:#e6db74>&#34;json&#34;</span>))
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>flagName</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;output&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>RegisterFlagCompletionFunc</span>(<span style=color:#a6e22e>flagName</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>toComplete</span> <span style=color:#66d9ef>string</span>) ([]<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirective</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;yaml&#34;</span>, <span style=color:#e6db74>&#34;json&#34;</span>}, <span style=color:#a6e22e>ShellCompDirectiveFilterFileExt</span>})
</span></span></code></pre></div><h4 id=limit-flag-completions-to-directory-names>Limit flag completions to directory names</h4><p>To limit completions of flag values to directory names you can either use the <code>zulu.FlagOptDirname()</code> functions or a combination of <code>RegisterFlagCompletionFunc()</code> and <code>ShellCompDirectiveFilterDirs</code>, like so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>flagSet</span>.<span style=color:#a6e22e>String</span>(<span style=color:#e6db74>&#34;output&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#e6db74>&#34;output usage&#34;</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>FlagOptDirname</span>())
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>flagName</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;output&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>RegisterFlagCompletionFunc</span>(<span style=color:#a6e22e>flagName</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>toComplete</span> <span style=color:#66d9ef>string</span>) ([]<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirective</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirectiveFilterDirs</span>
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>To limit completions of flag values to directory names <em>within another directory</em> you can use a combination of <code>RegisterFlagCompletionFunc()</code> and <code>ShellCompDirectiveFilterDirs</code> like so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>flagName</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;output&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>RegisterFlagCompletionFunc</span>(<span style=color:#a6e22e>flagName</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>toComplete</span> <span style=color:#66d9ef>string</span>) ([]<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirective</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;themes&#34;</span>}, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirectiveFilterDirs</span>
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><h4 id=descriptions-for-completions>Descriptions for completions</h4><p>Zulu provides support for completion descriptions. Such descriptions are supported for each shell.
For commands and flags, Zulu will provide the descriptions automatically, based on usage information.
For example, using zsh:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search  -- search <span style=color:#66d9ef>for</span> a keyword in charts
</span></span><span style=display:flex><span>show    -- show information of a chart
</span></span><span style=display:flex><span>status  -- displays the status of the named release
</span></span></code></pre></div><p>while using fish:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search  <span style=color:#f92672>(</span>search <span style=color:#66d9ef>for</span> a keyword in charts<span style=color:#f92672>)</span>  show  <span style=color:#f92672>(</span>show information of a chart<span style=color:#f92672>)</span>  status  <span style=color:#f92672>(</span>displays the status of the named release<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>Zulu allows you to add descriptions to your own completions. Simply add the description text after each completion, following a <code>\t</code> separator. This technique applies to completions returned by <code>ValidArgs</code>, <code>ValidArgsFunction</code> and <code>RegisterFlagCompletionFunc()</code>. For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>ValidArgsFunction</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>args</span> []<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>toComplete</span> <span style=color:#66d9ef>string</span>) ([]<span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirective</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;harbor\tAn image registry&#34;</span>, <span style=color:#e6db74>&#34;thanos\tLong-term metrics&#34;</span>}, <span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>ShellCompDirectiveNoFileComp</span>
</span></span><span style=display:flex><span>}}
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>ValidArgs</span>: []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;bash\tCompletions for bash&#34;</span>, <span style=color:#e6db74>&#34;zsh\tCompletions for zsh&#34;</span>}
</span></span></code></pre></div><h2 id=bash>Bash</h2><p>Bash completion can be used by calling <code>command.GenBashCompletion()</code> or <code>command.GenBashCompletionFile()</code>.
It supports descriptions for completions. When calling the functions you must provide it with a parameter indicating if the completions should be annotated with a description; Zulu
will provide the description automatically based on usage information. You can choose to make this option configurable by your users.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># With descriptions</span>
</span></span><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>][</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search  <span style=color:#f92672>(</span>search <span style=color:#66d9ef>for</span> a keyword in charts<span style=color:#f92672>)</span>           status  <span style=color:#f92672>(</span>display the status of the named release<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>show    <span style=color:#f92672>(</span>show information of a chart<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Without descriptions</span>
</span></span><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>][</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search  show  status
</span></span></code></pre></div><h3 id=dependencies>Dependencies</h3><p>The bash completion script generated by Zulu requires the <code>bash_completion</code> package. You should update the help text of your completion command to show how to install the <code>bash_completion</code> package (<a href=https://kubernetes.io/docs/tasks/tools/install-kubectl/#enabling-shell-autocompletion>Kubectl docs</a>)</p><h3 id=aliases>Aliases</h3><p>You can also configure <code>bash</code> aliases for your program and they will also support completions.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>alias aliasname<span style=color:#f92672>=</span>origcommand
</span></span><span style=display:flex><span>complete -o default -F __start_origcommand aliasname
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># and now when you run `aliasname` completion will make</span>
</span></span><span style=display:flex><span><span style=color:#75715e># suggestions as it did for `origcommand`.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ aliasname &lt;tab&gt;&lt;tab&gt;
</span></span><span style=display:flex><span>completion     firstcommand   secondcommand
</span></span></code></pre></div><h2 id=zsh>Zsh</h2><p>Zsh completion can be used by calling <code>command.GenZshCompletion()</code> or <code>command.GenZshCompletionFile()</code>.
It supports descriptions for completions. When calling the functions you must provide it with a parameter indicating if the completions should be annotated with a description; Zulu
will provide the description automatically based on usage information. You can choose to make this option configurable by your users.</p><p>The generated completion script should be put somewhere in your <code>$fpath</code> and be named
<code>_&lt;yourProgram></code>. You will need to start a new shell for the completions to become available.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># With descriptions</span>
</span></span><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search  -- search <span style=color:#66d9ef>for</span> a keyword in charts
</span></span><span style=display:flex><span>show    -- show information of a chart
</span></span><span style=display:flex><span>status  -- displays the status of the named release
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Without descriptions</span>
</span></span><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search  show  status
</span></span></code></pre></div><h2 id=fish>Fish</h2><p>Fish completion can be used by calling <code>command.GenFishCompletion()</code> or <code>command.GenFishCompletionFile()</code>.
It supports descriptions for completions. When calling the functions you must provide it with a parameter indicating if the completions should be annotated with a description; Zulu
will provide the description automatically based on usage information. You can choose to make this option configurable by your users.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># With descriptions</span>
</span></span><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search  <span style=color:#f92672>(</span>search <span style=color:#66d9ef>for</span> a keyword in charts<span style=color:#f92672>)</span>  show  <span style=color:#f92672>(</span>show information of a chart<span style=color:#f92672>)</span>  status  <span style=color:#f92672>(</span>displays the status of the named release<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Without descriptions</span>
</span></span><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search  show  status
</span></span></code></pre></div><p><em>Note</em>: Because of backward-compatibility requirements, we were forced to have a different API to disable completion descriptions between <code>zsh</code> and <code>fish</code>.</p><h3 id=limitations>Limitations</h3><ul><li>The following flag completion annotations are not supported and will be ignored for <code>fish</code>:<ul><li><code>BashCompFilenameExt</code> (filtering by file extension)</li><li><code>BashCompSubdirsInDir</code> (filtering by directory)</li></ul></li><li>The functions corresponding to the above annotations are consequently not supported and will be ignored for <code>fish</code>:<ul><li><code>FlagOptFilename()</code> (filtering by file extension)</li><li><code>FlagOptDirname()</code> (filtering by directory)</li></ul></li><li>Similarly, the following completion directives are not supported and will be ignored for <code>fish</code>:<ul><li><code>ShellCompDirectiveFilterFileExt</code> (filtering by file extension)</li><li><code>ShellCompDirectiveFilterDirs</code> (filtering by directory)</li></ul></li></ul><h2 id=powershell>PowerShell</h2><p><code>PowerShell</code> completion can be used by calling the <code>command.GenPowerShellCompletion()</code> or <code>command.GenPowerShellCompletionFile()</code> functions.
It supports descriptions for completions. When calling the functions you must provide it with a parameter indicating if the completions should be annotated with a description; Zulu
will provide the description automatically based on usage information. You can choose to make this option configurable by your users.</p><p>The script is designed to support all three PowerShell completion modes:</p><ul><li>TabCompleteNext (default windows style - on each key press the next option is displayed)</li><li>Complete (works like bash)</li><li>MenuComplete (works like zsh)</li></ul><p>You set the mode with <code>Set-PSReadLineKeyHandler -Key Tab -Function &lt;mode></code>. Descriptions are only displayed when using the <code>Complete</code> or <code>MenuComplete</code> mode.</p><p>Users need PowerShell version 5.0 or above, which comes with Windows 10 and can be downloaded separately for Windows 7 or 8.1.
They can then write the completions to a file and source this file from their PowerShell profile, which is referenced by the <code>$Profile</code> environment variable.
See <code>Get-Help about_Profiles</code> for more info about PowerShell profiles.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># With descriptions and Mode &#39;Complete&#39;</span>
</span></span><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search  <span style=color:#f92672>(</span>search <span style=color:#66d9ef>for</span> a keyword in charts<span style=color:#f92672>)</span>  show  <span style=color:#f92672>(</span>show information of a chart<span style=color:#f92672>)</span>  status  <span style=color:#f92672>(</span>displays the status of the named release<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># With descriptions and Mode &#39;MenuComplete&#39; The description of the current selected value will be displayed below the suggestions.</span>
</span></span><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search    show     status
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>search <span style=color:#66d9ef>for</span> a keyword in charts
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Without descriptions</span>
</span></span><span style=display:flex><span>$ helm s<span style=color:#f92672>[</span>tab<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>search  show  status
</span></span></code></pre></div><h3 id=aliases-1>Aliases</h3><p>You can also configure <code>powershell</code> aliases for your program, and they will also support completions.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sal aliasname origcommand
</span></span><span style=display:flex><span>$ Register-ArgumentCompleter -CommandName <span style=color:#e6db74>&#39;aliasname&#39;</span> -ScriptBlock $__origcommandCompleterBlock
</span></span><span style=display:flex><span><span style=color:#75715e># and now when you run `aliasname` completion will make</span>
</span></span><span style=display:flex><span><span style=color:#75715e># suggestions as it did for `origcommand`.</span>
</span></span><span style=display:flex><span>$ aliasname &lt;tab&gt;
</span></span><span style=display:flex><span>completion     firstcommand   secondcommand
</span></span></code></pre></div><p>The name of the completer block variable is of the form <code>$__&lt;programName>CompleterBlock</code> where every <code>-</code> and <code>:</code> in the program name have been replaced with <code>_</code>, to respect powershell naming syntax.</p><h3 id=limitations-1>Limitations</h3><ul><li>The following flag completion annotations are not supported and will be ignored for <code>powershell</code>:<ul><li><code>BashCompFilenameExt</code> (filtering by file extension)</li><li><code>BashCompSubdirsInDir</code> (filtering by directory)</li></ul></li><li>The functions corresponding to the above annotations are consequently not supported and will be ignored for <code>powershell</code>:<ul><li><code>FlagOptFilename()</code> (filtering by file extension)</li><li><code>FlagOptDirname()</code> (filtering by directory)</li></ul></li><li>Similarly, the following completion directives are not supported and will be ignored for <code>powershell</code>:<ul><li><code>ShellCompDirectiveFilterFileExt</code> (filtering by file extension)</li><li><code>ShellCompDirectiveFilterDirs</code> (filtering by directory)</li></ul></li></ul><h1 id=documentation-generation>Documentation generation</h1><p>Zulu supports generating different types of documentation. This section explain how to generate man pages, markdown, and others.</p><h2 id=options>Options</h2><ul><li><code>DisableAutoGenTag</code>. You may set <code>cmd.DisableAutoGenTag = true</code> to <em>entirely</em> remove the auto generated string &ldquo;Auto generated by zulucmd/zulu&mldr;&rdquo; from any documentation source.</li></ul><h2 id=man-pages>Man Pages</h2><p>Generating man pages from a zulu command is incredibly easy. An example is as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2/doc&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;test&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;my test program&#34;</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>header</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenManHeader</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Title</span>: <span style=color:#e6db74>&#34;MINE&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Section</span>: <span style=color:#e6db74>&#34;3&#34;</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenManTree</span>(<span style=color:#a6e22e>cmd</span>, <span style=color:#a6e22e>header</span>, <span style=color:#e6db74>&#34;/tmp&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>That will get you a man page <code>/tmp/test.3</code></p><h2 id=markdown-docs>Markdown Docs</h2><p>Generating Markdown pages from a zulu command is incredibly easy. An example is as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2/doc&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;test&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;my test program&#34;</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenMarkdownTree</span>(<span style=color:#a6e22e>cmd</span>, <span style=color:#e6db74>&#34;/tmp&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>That will get you a Markdown document <code>/tmp/test.md</code></p><h3 id=for-the-entire-command-tree>For the entire command tree</h3><p>This program can actually generate docs for the kubectl command in the kubernetes project</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;io&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;k8s.io/kubernetes/pkg/kubectl/cmd&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmdutil</span> <span style=color:#e6db74>&#34;k8s.io/kubernetes/pkg/kubectl/cmd/util&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2/doc&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>kubectl</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>NewKubectlCommand</span>(<span style=color:#a6e22e>cmdutil</span>.<span style=color:#a6e22e>NewFactory</span>(<span style=color:#66d9ef>nil</span>), <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stdin</span>, <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Discard</span>, <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Discard</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenMarkdownTree</span>(<span style=color:#a6e22e>kubectl</span>, <span style=color:#e6db74>&#34;./&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This will generate a whole series of files, one for each command in the tree, in the directory specified (in this case &ldquo;./&rdquo;)</p><h3 id=for-a-single-command>For a single command</h3><p>You may wish to have more control over the output, or only generate for a single command, instead of the entire command tree. If this is the case you may prefer to <code>GenMarkdown</code> instead of <code>GenMarkdownTree</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	<span style=color:#a6e22e>out</span> <span style=color:#f92672>:=</span> new(<span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenMarkdown</span>(<span style=color:#a6e22e>cmd</span>, <span style=color:#a6e22e>out</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span></code></pre></div><p>This will write the markdown doc for ONLY &ldquo;cmd&rdquo; into the out, buffer.</p><h3 id=customize-the-output>Customize the output</h3><p>Both <code>GenMarkdown</code> and <code>GenMarkdownTree</code> have alternate versions with callbacks to get some control of the output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GenMarkdownTreeCustom</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>dir</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>filePrepender</span>, <span style=color:#a6e22e>linkHandler</span> <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GenMarkdownCustom</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>out</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>, <span style=color:#a6e22e>linkHandler</span> <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>The <code>filePrepender</code> will prepend the return value given the full filepath to the rendered Markdown file. A common use case is to add front matter to use the generated documentation with <a href=https://gohugo.io/>Hugo</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fmTemplate</span> = <span style=color:#e6db74>`---
</span></span></span><span style=display:flex><span><span style=color:#e6db74>date: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>title: &#34;%s&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>slug: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>url: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>---
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>filePrepender</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>filename</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>now</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>().<span style=color:#a6e22e>Format</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>RFC3339</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>filepath</span>.<span style=color:#a6e22e>Base</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>base</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSuffix</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>Ext</span>(<span style=color:#a6e22e>name</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>url</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;/commands/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>base</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;/&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#a6e22e>fmTemplate</span>, <span style=color:#a6e22e>now</span>, <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Replace</span>(<span style=color:#a6e22e>base</span>, <span style=color:#e6db74>&#34;_&#34;</span>, <span style=color:#e6db74>&#34; &#34;</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>), <span style=color:#a6e22e>base</span>, <span style=color:#a6e22e>url</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The <code>linkHandler</code> can be used to customize the rendered internal links to the commands, given a filename:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>linkHandler</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>base</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSuffix</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>Ext</span>(<span style=color:#a6e22e>name</span>))
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;/commands/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>base</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;/&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=restructured-text-docs>ReStructured Text Docs</h2><p>Generating ReST pages from a zulu command is incredibly easy. An example is as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2/doc&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;test&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;my test program&#34;</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenReSTTree</span>(<span style=color:#a6e22e>cmd</span>, <span style=color:#e6db74>&#34;/tmp&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>That will get you a ReST document <code>/tmp/test.rst</code></p><h3 id=for-the-entire-command-tree-1>For the entire command tree</h3><p>This program can actually generate docs for the kubectl command in the kubernetes project</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;io&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;k8s.io/kubernetes/pkg/kubectl/cmd&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmdutil</span> <span style=color:#e6db74>&#34;k8s.io/kubernetes/pkg/kubectl/cmd/util&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2/doc&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>kubectl</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>NewKubectlCommand</span>(<span style=color:#a6e22e>cmdutil</span>.<span style=color:#a6e22e>NewFactory</span>(<span style=color:#66d9ef>nil</span>), <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stdin</span>, <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Discard</span>, <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Discard</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenReSTTree</span>(<span style=color:#a6e22e>kubectl</span>, <span style=color:#e6db74>&#34;./&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This will generate a whole series of files, one for each command in the tree, in the directory specified (in this case &ldquo;./&rdquo;)</p><h3 id=for-a-single-command-1>For a single command</h3><p>You may wish to have more control over the output, or only generate for a single command, instead of the entire command tree. If this is the case you may prefer to <code>GenReST</code> instead of <code>GenReSTTree</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	<span style=color:#a6e22e>out</span> <span style=color:#f92672>:=</span> new(<span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenReST</span>(<span style=color:#a6e22e>cmd</span>, <span style=color:#a6e22e>out</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span></code></pre></div><p>This will write the ReST doc for ONLY &ldquo;cmd&rdquo; into the out, buffer.</p><h3 id=customize-the-output-1>Customize the output</h3><p>Both <code>GenReST</code> and <code>GenReSTTree</code> have alternate versions with callbacks to get some control of the output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GenReSTTreeCustom</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>dir</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>filePrepender</span> <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>linkHandler</span> <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>string</span>, <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GenReSTCustom</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>out</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>, <span style=color:#a6e22e>linkHandler</span> <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>string</span>, <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>The <code>filePrepender</code> will prepend the return value given the full filepath to the rendered ReST file. A common use case is to add front matter to use the generated documentation with <a href=https://gohugo.io/>Hugo</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fmTemplate</span> = <span style=color:#e6db74>`---
</span></span></span><span style=display:flex><span><span style=color:#e6db74>date: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>title: &#34;%s&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>slug: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>url: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>---
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>filePrepender</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>filename</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>now</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>().<span style=color:#a6e22e>Format</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>RFC3339</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>filepath</span>.<span style=color:#a6e22e>Base</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>base</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSuffix</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>Ext</span>(<span style=color:#a6e22e>name</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>url</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;/commands/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>base</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;/&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#a6e22e>fmTemplate</span>, <span style=color:#a6e22e>now</span>, <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Replace</span>(<span style=color:#a6e22e>base</span>, <span style=color:#e6db74>&#34;_&#34;</span>, <span style=color:#e6db74>&#34; &#34;</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>), <span style=color:#a6e22e>base</span>, <span style=color:#a6e22e>url</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The <code>linkHandler</code> can be used to customize the rendered links to the commands, given a command name and reference. This is useful while converting rst to html or while generating documentation with tools like Sphinx where <code>:ref:</code> is used:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// Sphinx cross-referencing format
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>linkHandler</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>ref</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;:ref:`%s &lt;%s&gt;`&#34;</span>, <span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>ref</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=yaml-docs>Yaml Docs</h2><p>Generating yaml files from a zulu command is incredibly easy. An example is as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2/doc&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;test&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;my test program&#34;</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenYamlTree</span>(<span style=color:#a6e22e>cmd</span>, <span style=color:#e6db74>&#34;/tmp&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>That will get you a Yaml document <code>/tmp/test.yaml</code></p><h3 id=for-the-entire-command-tree-2>For the entire command tree</h3><p>This program can actually generate docs for the kubectl command in the kubernetes project</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;io&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;k8s.io/kubernetes/pkg/kubectl/cmd&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmdutil</span> <span style=color:#e6db74>&#34;k8s.io/kubernetes/pkg/kubectl/cmd/util&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2/doc&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>kubectl</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>NewKubectlCommand</span>(<span style=color:#a6e22e>cmdutil</span>.<span style=color:#a6e22e>NewFactory</span>(<span style=color:#66d9ef>nil</span>), <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stdin</span>, <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Discard</span>, <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Discard</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenYamlTree</span>(<span style=color:#a6e22e>kubectl</span>, <span style=color:#e6db74>&#34;./&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This will generate a whole series of files, one for each command in the tree, in the directory specified (in this case &ldquo;./&rdquo;)</p><h3 id=for-a-single-command-2>For a single command</h3><p>You may wish to have more control over the output, or only generate for a single command, instead of the entire command tree. If this is the case you may prefer to <code>GenYaml</code> instead of <code>GenYamlTree</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	<span style=color:#a6e22e>out</span> <span style=color:#f92672>:=</span> new(<span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenYaml</span>(<span style=color:#a6e22e>cmd</span>, <span style=color:#a6e22e>out</span>)
</span></span></code></pre></div><p>This will write the yaml doc for ONLY &ldquo;cmd&rdquo; into the out, buffer.</p><h3 id=customize-the-output-2>Customize the output</h3><p>Both <code>GenYaml</code> and <code>GenYamlTree</code> have alternate versions with callbacks to get some control of the output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GenYamlTreeCustom</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>dir</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>filePrepender</span>, <span style=color:#a6e22e>linkHandler</span> <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GenYamlCustom</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>out</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>, <span style=color:#a6e22e>linkHandler</span> <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>The <code>filePrepender</code> will prepend the return value given the full filepath to the rendered Yaml file. A common use case is to add front matter to use the generated documentation with <a href=https://gohugo.io/>Hugo</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fmTemplate</span> = <span style=color:#e6db74>`---
</span></span></span><span style=display:flex><span><span style=color:#e6db74>date: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>title: &#34;%s&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>slug: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>url: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>---
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>filePrepender</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>filename</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>now</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>().<span style=color:#a6e22e>Format</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>RFC3339</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>filepath</span>.<span style=color:#a6e22e>Base</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>base</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSuffix</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>Ext</span>(<span style=color:#a6e22e>name</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>url</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;/commands/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>base</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;/&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#a6e22e>fmTemplate</span>, <span style=color:#a6e22e>now</span>, <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Replace</span>(<span style=color:#a6e22e>base</span>, <span style=color:#e6db74>&#34;_&#34;</span>, <span style=color:#e6db74>&#34; &#34;</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>), <span style=color:#a6e22e>base</span>, <span style=color:#a6e22e>url</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The <code>linkHandler</code> can be used to customize the rendered internal links to the commands, given a filename:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>linkHandler</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>base</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSuffix</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>Ext</span>(<span style=color:#a6e22e>name</span>))
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;/commands/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>base</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;/&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=asciidoc-docs>AsciiDoc Docs</h2><p>Generating AsciiDoc pages from a zulu command is incredibly easy. An example is as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2/doc&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>zulu</span>.<span style=color:#a6e22e>Command</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Use</span>:   <span style=color:#e6db74>&#34;test&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Short</span>: <span style=color:#e6db74>&#34;my test program&#34;</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenAsciidocTree</span>(<span style=color:#a6e22e>cmd</span>, <span style=color:#e6db74>&#34;/tmp&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>That will get you a AsciiDoc document <code>/tmp/test.adoc</code></p><h3 id=generate-for-the-entire-command-tree>Generate for the entire command tree</h3><p>This program can actually generate docs for the kubectl command in the kubernetes project</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;io&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;k8s.io/kubernetes/pkg/kubectl/cmd&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cmdutil</span> <span style=color:#e6db74>&#34;k8s.io/kubernetes/pkg/kubectl/cmd/util&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/zulucmd/zulu/v2/doc&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>kubectl</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cmd</span>.<span style=color:#a6e22e>NewKubectlCommand</span>(<span style=color:#a6e22e>cmdutil</span>.<span style=color:#a6e22e>NewFactory</span>(<span style=color:#66d9ef>nil</span>), <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stdin</span>, <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Discard</span>, <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Discard</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenAsciidocTree</span>(<span style=color:#a6e22e>kubectl</span>, <span style=color:#e6db74>&#34;./&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This will generate a whole series of files, one for each command in the tree, in the directory specified (in this case &ldquo;./&rdquo;)</p><h3 id=generate-for-a-single-command>Generate for a single command</h3><p>You may wish to have more control over the output, or only generate for a single command, instead of the entire command tree. If this is the case you may prefer to <code>GenAsciidoc</code> instead of <code>GenAsciidocTree</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	<span style=color:#a6e22e>out</span> <span style=color:#f92672>:=</span> new(<span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>GenAsciidoc</span>(<span style=color:#a6e22e>cmd</span>, <span style=color:#a6e22e>out</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span></code></pre></div><p>This will write the AsciiDoc doc for ONLY &ldquo;cmd&rdquo; into the out, buffer.</p><h3 id=customize-the-output-3>Customize the output</h3><p>Both <code>GenAsciidoc</code> and <code>GenAsciidocTree</code> have alternate versions with callbacks to get some control of the output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GenAsciidocTreeCustom</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>dir</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>filePrepender</span>, <span style=color:#a6e22e>linkHandler</span> <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GenAsciidocCustom</span>(<span style=color:#a6e22e>cmd</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Command</span>, <span style=color:#a6e22e>out</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>, <span style=color:#a6e22e>linkHandler</span> <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>The <code>filePrepender</code> will prepend the return value given the full filepath to the rendered Asciidoc file. A common use case is to add front matter to use the generated documentation with <a href=https://gohugo.io/>Hugo</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fmTemplate</span> = <span style=color:#e6db74>`---
</span></span></span><span style=display:flex><span><span style=color:#e6db74>date: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>title: &#34;%s&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>slug: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>url: %s
</span></span></span><span style=display:flex><span><span style=color:#e6db74>---
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>filePrepender</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>filename</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>now</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>().<span style=color:#a6e22e>Format</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>RFC3339</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>filepath</span>.<span style=color:#a6e22e>Base</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>base</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSuffix</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>Ext</span>(<span style=color:#a6e22e>name</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>url</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;/commands/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>base</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;/&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#a6e22e>fmTemplate</span>, <span style=color:#a6e22e>now</span>, <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Replace</span>(<span style=color:#a6e22e>base</span>, <span style=color:#e6db74>&#34;_&#34;</span>, <span style=color:#e6db74>&#34; &#34;</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>), <span style=color:#a6e22e>base</span>, <span style=color:#a6e22e>url</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The <code>linkHandler</code> can be used to customize the rendered internal links to the commands, given a filename:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>linkHandler</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>base</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSuffix</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>Ext</span>(<span style=color:#a6e22e>name</span>))
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;/commands/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>base</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;/&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=contributing-to-zulu>Contributing to Zulu</h1><p>Thank you so much for contributing to Zulu. We appreciate your time and help.
Here are some guidelines to help you get started.</p><h2 id=code-of-conduct>Code of Conduct</h2><p>Be kind and respectful to the members of the community. Take time to educate
others who are seeking help. Harassment of any kind will not be tolerated.</p><h2 id=questions>Questions</h2><p>If you have questions regarding Zulu, feel free to raise a ticket to ask a
question.</p><h2 id=filing-a-bug-or-feature>Filing a bug or feature</h2><ol><li>Before filing an issue, please check the existing issues to see if a
similar one was already opened. If there is one already opened, feel free
to comment on it.</li><li>If you believe you&rsquo;ve found a bug, please provide detailed steps of
reproduction, the version of Zulu and anything else you believe will be
useful to help troubleshoot it (e.g. OS environment, environment variables,
etc.). Also state the current behaviour vs. the expected behaviour.</li><li>If you&rsquo;d like to see a feature or an enhancement, please open an issue with
a clear title and description of what the feature is and why it would be
beneficial to the project and its users.</li></ol><h2 id=submitting-changes>Submitting changes</h2><ol><li>CLA: Upon submitting a Pull Request (PR), contributors will be prompted to
sign a CLA. Please sign the CLA :slightly_smiling_face:</li><li>You should use <a href=https://pre-commit.com><code>pre-commit</code></a> which will ensure all
follow required formatting.</li><li>Tests: If you are submitting code, please ensure you have adequate tests
for the feature. Tests can be run via <code>go test ./...</code> or <code>make test</code>.</li><li>Ensure the new code is properly formatted to ensure code consistency.
Run <code>make all</code>.</li></ol><h3 id=quick-steps-to-contribute>Quick steps to contribute</h3><ol><li>Fork the project.</li><li>Clone your fork to your PC (<code>git clone https://github.com/your_username/zulu && cd zulu</code>)</li><li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li><li>Make changes and run tests (<code>make test</code>)</li><li>Add them to staging (<code>git add .</code>)</li><li>Commit your changes (<code>git commit -m 'Add some feature'</code>)</li><li>Push to the branch (<code>git push origin my-new-feature</code>)</li><li>Create new pull request</li></ol><h1 id=changelog>Changelog</h1><p>No releases yet.</p><h1 id=conduct>Conduct</h1><h2 id=versioning>Versioning</h2><p>Zulu will follow a steady release cadence. Non-breaking changes will be released as minor versions quarterly. Patch bug releases are at the discretion of the maintainers. Users can expect security patch fixes to be released within relatively short order of a CVE becoming known. For more information on security patch fixes see the CVE section below. Releases will follow <a href=https://semver.org/>Semantic Versioning</a>. Users tracking the Master branch should expect unpredictable breaking changes as the project continues to move forward. For stability, it is highly recommended to use a release.</p><h2 id=backward-compatibility>Backward Compatibility</h2><p>We will maintain two major releases in a moving window. The N-1 release will only receive bug fixes and security updates and will be dropped once N+1 is released.</p><h2 id=deprecation>Deprecation</h2><p>Deprecation of Go versions or dependent packages will only occur in major releases. To reduce the change of this taking users by surprise, any large deprecation will be preceded by an announcement in an issue on GitHub.</p><h2 id=cve>CVE</h2><p>Maintainers will make every effort to release security patches in the case of a medium to high severity CVE directly impacting the library. The speed in which these patches reach a release is up to the discretion of the maintainers. A low severity CVE may be a lower priority than a high severity one.</p><h2 id=communication>Communication</h2><p>Zulu maintainers will use GitHub issues, and discussions as the primary means of communication with the community. This is to foster open communication with all users and contributors.</p><h2 id=breaking-changes>Breaking Changes</h2><p>Breaking changes are generally allowed in the master branch, as this is the branch used to develop the next release of Zulu.</p><p>There may be times, however, when master is closed for breaking changes. This is likely to happen as we near the release of a new version.</p><p>Breaking changes are not allowed in release branches, as these represent minor versions that have already been released. These version have consumers who expect the APIs, behaviors, etc, to remain stable during the lifetime of the patch stream for the minor release.</p><p>Examples of breaking changes include:</p><ul><li>Removing or renaming exported constant, variable, type, or function.</li><li>Updating the version of critical libraries such as <code>zulucmd/pflag</code> etc&mldr;<ul><li>Some version updates may be acceptable for picking up bug fixes, but maintainers must exercise caution when reviewing.</li></ul></li></ul><p>There may, at times, need to be exceptions where breaking changes are allowed in release branches. These are at the discretion of the project&rsquo;s maintainers, and must be carefully considered before merging.</p><h2 id=ci-testing>CI Testing</h2><p>Maintainers will ensure the Zulu test suite utilizes the current supported versions of Golang.</p><h2 id=disclaimer>Disclaimer</h2><p>Changes to this document and the contents therein are at the discretion of the maintainers. None of the contents of this document are legally binding in any way to the maintainers or the users.</p><h1 id=license>License</h1><p>Zulu is released under the Apache 2.0 license. See <a href=https://github.com/zulucmd/zulu/blob/master/LICENSE.txt>LICENSE.txt</a></p></div><div class=dark-box></div></div></body></html>